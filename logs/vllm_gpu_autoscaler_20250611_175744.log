2025-06-11 17:57:44,779 [[32mINFO[0m] __main__: 🚀 vLLM GPU自适应调频系统 (Hybrid LinUCB)
2025-06-11 17:57:44,779 [[32mINFO[0m] __main__: 📅 启动时间: 2025-06-11 17:57:44
2025-06-11 17:57:44,780 [[32mINFO[0m] __main__: 📝 配置文件: config/config.yaml
2025-06-11 17:57:44,781 [[32mINFO[0m] __main__: 🤖 模型选项: 重置
2025-06-11 17:57:44,781 [[32mINFO[0m] __main__: ============================================================
2025-06-11 17:57:44,781 [[32mINFO[0m] __main__: 🚀 vLLM GPU自适应调频系统 v2.0 (Hybrid LinUCB)
2025-06-11 17:57:44,781 [[32mINFO[0m] __main__: ============================================================
2025-06-11 17:57:44,784 [[32mINFO[0m] __main__: 🔧 初始化系统组件...
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__: 🔄 重置模型，从头开始学习
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__: ✅ 系统初始化完成
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__: 📋 配置摘要:
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__:    - GPU设备: 0
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__:    - 频率范围: 1005-2100MHz
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__:    - 频率档位: 13个
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__:    - 决策间隔: 0.4秒
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__:    - TTFT限制: 300.0秒
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__:    - TPOT限制: 5秒
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__:    - 初始探索率: 3.0
2025-06-11 17:57:46,005 [[32mINFO[0m] __main__:    - 正则化参数: 0.1
2025-06-11 17:57:46,007 [[32mINFO[0m] __main__: 
============================================================
2025-06-11 17:57:46,007 [[32mINFO[0m] __main__: 🎮 开始自适应GPU调频控制
2025-06-11 17:57:46,007 [[32mINFO[0m] __main__: ============================================================

2025-06-11 17:57:46,007 [[32mINFO[0m] __main__: 
──────────────────── 迭代 1 ────────────────────
2025-06-11 17:57:46,007 [[32mINFO[0m] __main__: 📊 [阶段1/5] 采集系统状态...
2025-06-11 17:57:48,083 [[32mINFO[0m] __main__: 🔍 [阶段2/5] 提取特征...
2025-06-11 17:57:48,083 [[32mINFO[0m] __main__:    队列状态: 有等待
2025-06-11 17:57:48,085 [[32mINFO[0m] __main__:    并发请求: 252
2025-06-11 17:57:48,085 [[32mINFO[0m] __main__:    GPU缓存: 60.3%
2025-06-11 17:57:48,086 [[33mWARNING[0m] __main__: 🔥 GPU过热: 86°C
2025-06-11 17:57:48,086 [[32mINFO[0m] __main__: ⚡ [阶段3/5] 紧急决策: 动作5 (1455MHz)
2025-06-11 17:57:48,086 [[32mINFO[0m] __main__: 📉 [阶段4/5] 调整频率: 1605MHz → 1455MHz (-150MHz)
2025-06-11 17:57:48,457 [[32mINFO[0m] __main__: ⏳ 等待0.4秒观察效果...
2025-06-11 17:57:48,857 [[32mINFO[0m] __main__: 📊 [阶段5/5] 评估效果...
2025-06-11 17:57:50,887 [[32mINFO[0m] __main__: 
┌──────────────────────────────────────────────────────────┐
│ 📊 状态汇总 - 迭代 1                                         │
├──────────────────────────────────────────────────────────┤
│ 🔧 频率: 1605MHz ↓ 1455MHz (-150MHz)               │
│ 👥 请求: 运行 252→254, 等待 748→749                        │
│ 💾 缓存:  60.3% → 61.1 %                                │
│ ⚡ 能耗:    0.0J,  EDP: 0.000000                    │
│ 🟡 最终奖励:    0.000                                  │
│ 🌡️  GPU: 84°C, 100%, 254W                        │
│ 🤖 模型: α=3.00, 总轮次=0, 平均奖励=0.000         │
└──────────────────────────────────────────────────────────┘
2025-06-11 17:57:50,887 [[33mWARNING[0m] __main__: ⚠️ 循环耗时过长: 4.9秒
2025-06-11 17:57:50,887 [[32mINFO[0m] __main__: 
──────────────────── 迭代 2 ────────────────────
2025-06-11 17:57:50,887 [[32mINFO[0m] __main__: 📊 [阶段1/5] 采集系统状态...
2025-06-11 17:57:52,960 [[32mINFO[0m] __main__: 🔍 [阶段2/5] 提取特征...
2025-06-11 17:57:52,960 [[32mINFO[0m] __main__:    队列状态: 有等待
2025-06-11 17:57:52,960 [[32mINFO[0m] __main__:    并发请求: 255
2025-06-11 17:57:52,962 [[32mINFO[0m] __main__:    GPU缓存: 62.1%
2025-06-11 17:57:52,969 [[32mINFO[0m] __main__: 🤔 [阶段3/5] LinUCB决策: 动作6 (1545MHz)
2025-06-11 17:57:52,969 [[32mINFO[0m] __main__: 📈 [阶段4/5] 调整频率: 1455MHz → 1545MHz (+90MHz)
2025-06-11 17:57:54,089 [[32mINFO[0m] __main__: ⏳ 等待0.4秒观察效果...
2025-06-11 17:57:54,490 [[32mINFO[0m] __main__: 📊 [阶段5/5] 评估效果...
2025-06-11 17:57:56,527 [[32mINFO[0m] __main__: 
┌──────────────────────────────────────────────────────────┐
│ 📊 状态汇总 - 迭代 2                                         │
├──────────────────────────────────────────────────────────┤
│ 🔧 频率: 1455MHz ↑ 1545MHz (+90MHz)               │
│ 👥 请求: 运行 255→252, 等待 750→749                        │
│ 💾 缓存:  62.1% → 61.9 %                                │
│ ⚡ 能耗:    0.0J,  EDP: 0.000000                    │
│ 🟡 最终奖励:    0.000                                  │
│ 🌡️  GPU: 85°C, 98%, 288W                        │
│ 🤖 模型: α=3.00, 总轮次=0, 平均奖励=0.000         │
└──────────────────────────────────────────────────────────┘
2025-06-11 17:57:56,528 [[33mWARNING[0m] __main__: ⚠️ 循环耗时过长: 5.6秒
2025-06-11 17:57:56,528 [[32mINFO[0m] __main__: 
──────────────────── 迭代 3 ────────────────────
2025-06-11 17:57:56,528 [[32mINFO[0m] __main__: 📊 [阶段1/5] 采集系统状态...
2025-06-11 17:57:58,608 [[32mINFO[0m] __main__: 🔍 [阶段2/5] 提取特征...
2025-06-11 17:57:58,609 [[32mINFO[0m] __main__:    队列状态: 有等待
2025-06-11 17:57:58,614 [[32mINFO[0m] __main__:    并发请求: 255
2025-06-11 17:57:58,614 [[32mINFO[0m] __main__:    GPU缓存: 62.0%
2025-06-11 17:57:58,614 [[32mINFO[0m] __main__: 🤔 [阶段3/5] LinUCB决策: 动作6 (1545MHz)
2025-06-11 17:57:58,615 [[32mINFO[0m] __main__: ✅ [阶段4/5] 保持频率: 1545MHz
2025-06-11 17:57:58,615 [[32mINFO[0m] __main__: ⏳ 等待0.4秒观察效果...
2025-06-11 17:57:59,015 [[32mINFO[0m] __main__: 📊 [阶段5/5] 评估效果...
2025-06-11 17:58:01,039 [[32mINFO[0m] __main__: 🏆 新的最佳奖励: -0.037
2025-06-11 17:58:01,039 [[32mINFO[0m] __main__: 
┌──────────────────────────────────────────────────────────┐
│ 📊 状态汇总 - 迭代 3                                         │
├──────────────────────────────────────────────────────────┤
│ 🔧 频率: 1545MHz → 1545MHz (+0MHz)               │
│ 👥 请求: 运行 255→254, 等待 749→749                        │
│ 💾 缓存:  62.0% → 62.0 %                                │
│ ⏱️  TTFT: 91364.3ms (基线: 91360.5ms)                   │
│ ⏱️  TPOT:  270.7ms (基线: 235.7ms)                   │
│ ⚡ 能耗: 1105.8J,  EDP: 50666.938827                    │
│ 💰 奖励组成: 基础=-0.04, 切换=-0.00, 惩罚=+0.00      │
│ 🟡 最终奖励:   -0.037                                  │
│ 🌡️  GPU: 84°C, 98%, 288W                        │
│ 🤖 模型: α=3.00, 总轮次=1, 平均奖励=-0.037         │
└──────────────────────────────────────────────────────────┘
2025-06-11 17:58:01,040 [[33mWARNING[0m] __main__: ⚠️ 循环耗时过长: 4.5秒
2025-06-11 17:58:01,040 [[32mINFO[0m] __main__: 
──────────────────── 迭代 4 ────────────────────
2025-06-11 17:58:01,040 [[32mINFO[0m] __main__: 📊 [阶段1/5] 采集系统状态...
2025-06-11 17:58:03,107 [[32mINFO[0m] __main__: 🔍 [阶段2/5] 提取特征...
2025-06-11 17:58:03,107 [[32mINFO[0m] __main__:    队列状态: 有等待
2025-06-11 17:58:03,107 [[32mINFO[0m] __main__:    并发请求: 254
2025-06-11 17:58:03,109 [[32mINFO[0m] __main__:    GPU缓存: 62.7%
2025-06-11 17:58:03,109 [[32mINFO[0m] __main__: 🤔 [阶段3/5] LinUCB决策: 动作7 (1635MHz)
2025-06-11 17:58:03,110 [[32mINFO[0m] __main__: 📈 [阶段4/5] 调整频率: 1545MHz → 1635MHz (+90MHz)
2025-06-11 17:58:04,581 [[31mERROR[0m] __main__: ❌ 设置频率失败，保持原频率
2025-06-11 17:58:04,581 [[32mINFO[0m] __main__: ⏳ 等待0.4秒观察效果...
2025-06-11 17:58:04,981 [[32mINFO[0m] __main__: 📊 [阶段5/5] 评估效果...
2025-06-11 17:58:06,994 [[32mINFO[0m] __main__: 
┌──────────────────────────────────────────────────────────┐
│ 📊 状态汇总 - 迭代 4                                         │
├──────────────────────────────────────────────────────────┤
│ 🔧 频率: 1545MHz → 1545MHz (+0MHz)               │
│ 👥 请求: 运行 254→253, 等待 749→749                        │
│ 💾 缓存:  62.7% → 61.6 %                                │
│ ⏱️  TTFT: 91162.6ms (基线: 91340.7ms)                   │
│ ⏱️  TPOT:  274.9ms (基线: 239.6ms)                   │
│ ⚡ 能耗: 1463.4J,  EDP: 66906.727575                    │
│ 💰 奖励组成: 基础=-0.32, 切换=-0.00, 惩罚=+0.00      │
│ 🟡 最终奖励:   -0.316                                  │
│ 🌡️  GPU: 85°C, 98%, 297W                        │
│ 🤖 模型: α=3.00, 总轮次=2, 平均奖励=-0.177         │
└──────────────────────────────────────────────────────────┘
2025-06-11 17:58:06,994 [[33mWARNING[0m] __main__: ⚠️ 循环耗时过长: 6.0秒
2025-06-11 17:58:06,994 [[32mINFO[0m] __main__: 
──────────────────── 迭代 5 ────────────────────
2025-06-11 17:58:06,994 [[32mINFO[0m] __main__: 📊 [阶段1/5] 采集系统状态...
2025-06-11 17:58:09,028 [[32mINFO[0m] __main__: 🔍 [阶段2/5] 提取特征...
2025-06-11 17:58:09,028 [[32mINFO[0m] __main__:    队列状态: 有等待
2025-06-11 17:58:09,029 [[32mINFO[0m] __main__:    并发请求: 254
2025-06-11 17:58:09,029 [[32mINFO[0m] __main__:    GPU缓存: 61.2%
2025-06-11 17:58:09,030 [[32mINFO[0m] __main__: 🤔 [阶段3/5] LinUCB决策: 动作4 (1365MHz)
2025-06-11 17:58:09,030 [[32mINFO[0m] __main__: 📉 [阶段4/5] 调整频率: 1575MHz → 1365MHz (-210MHz)
2025-06-11 17:58:09,408 [[32mINFO[0m] __main__: ⏳ 等待0.4秒观察效果...
2025-06-11 17:58:09,808 [[32mINFO[0m] __main__: 📊 [阶段5/5] 评估效果...
2025-06-11 17:58:11,865 [[32mINFO[0m] __main__: 🏆 新的最佳奖励: 0.045
2025-06-11 17:58:11,867 [[32mINFO[0m] __main__: 
┌──────────────────────────────────────────────────────────┐
│ 📊 状态汇总 - 迭代 5                                         │
├──────────────────────────────────────────────────────────┤
│ 🔧 频率: 1575MHz ↓ 1365MHz (-210MHz)               │
│ 👥 请求: 运行 254→253, 等待 749→749                        │
│ 💾 缓存:  61.2% → 61.3 %                                │
│ ⏱️  TTFT: 92320.4ms (基线: 91438.7ms)                   │
│ ⏱️  TPOT:  263.1ms (基线: 242.0ms)                   │
│ ⚡ 能耗: 1041.6J,  EDP: 48217.963217                    │
│ 💰 奖励组成: 基础=+0.05, 切换=-0.00, 惩罚=+0.00      │
│ 🟢 最终奖励:    0.045                                  │
│ 🌡️  GPU: 83°C, 98%, 231W                        │
│ 🤖 模型: α=3.00, 总轮次=3, 平均奖励=-0.103         │
└──────────────────────────────────────────────────────────┘
2025-06-11 17:58:11,867 [[33mWARNING[0m] __main__: ⚠️ 循环耗时过长: 4.9秒
2025-06-11 17:58:11,867 [[32mINFO[0m] __main__: 
──────────────────── 迭代 6 ────────────────────
2025-06-11 17:58:11,867 [[32mINFO[0m] __main__: 📊 [阶段1/5] 采集系统状态...
2025-06-11 17:58:13,887 [[32mINFO[0m] __main__: 🔍 [阶段2/5] 提取特征...
2025-06-11 17:58:13,887 [[32mINFO[0m] __main__:    队列状态: 有等待
2025-06-11 17:58:13,898 [[32mINFO[0m] __main__:    并发请求: 253
2025-06-11 17:58:13,898 [[32mINFO[0m] __main__:    GPU缓存: 61.8%
2025-06-11 17:58:13,899 [[32mINFO[0m] __main__: 🤔 [阶段3/5] LinUCB决策: 动作5 (1455MHz)
2025-06-11 17:58:13,900 [[32mINFO[0m] __main__: 📈 [阶段4/5] 调整频率: 1365MHz → 1455MHz (+90MHz)
2025-06-11 17:58:15,089 [[32mINFO[0m] __main__: ⏳ 等待0.4秒观察效果...
2025-06-11 17:58:15,489 [[32mINFO[0m] __main__: 📊 [阶段5/5] 评估效果...
2025-06-11 17:58:16,505 [[32mINFO[0m] __main__: 
============================================================
2025-06-11 17:58:16,506 [[32mINFO[0m] __main__: 📛 收到退出信号，正在优雅关闭...
2025-06-11 17:58:16,506 [[32mINFO[0m] __main__: 💾 保存最终模型...
2025-06-11 17:58:16,512 [[32mINFO[0m] __main__: 
============================================================
📊 最终统计报告
============================================================
⏱️  运行时间: 00:00:30
🔄 总迭代次数: 5
   - 学习周期: 6
   - 空闲周期: 0
🔧 频率调整: 4次
🚨 紧急响应: 1次
⚡ 总能耗: 6041.9J
⚡ 平均功率: 198047.0mW
🏆 最佳奖励: 0.045
💀 最差奖励: -0.316

📊 频率使用分布:
   1005MHz: ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0.0% (0次)
   1095MHz: ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0.0% (0次)
   1185MHz: ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0.0% (0次)
   1275MHz: ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0.0% (0次)
   1365MHz: ████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░  33.3% (1次)
   1455MHz: ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0.0% (0次)
   1545MHz: ████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░  33.3% (1次)
   1635MHz: ████████████████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░  33.3% (1次)
   1725MHz: ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0.0% (0次)
   1815MHz: ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0.0% (0次)
   1905MHz: ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0.0% (0次)
   1995MHz: ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0.0% (0次)
   2085MHz: ░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░   0.0% (0次)

🤖 模型信息:
   最终α: 3.000
   平均奖励: -0.103
   动作熵: 1.099
   有效动作数: 3.0
============================================================
2025-06-11 17:58:16,512 [[32mINFO[0m] __main__: 👋 再见！
